<div *ngIf="data.patientId">
  <h1 mat-dialog-title>Manage Appointment</h1>
</div>
<div *ngIf="!data.patientId">
  <h1 mat-dialog-title>New Appointment</h1>
</div>

<hr>

<form [formGroup]="addForm" (ngSubmit)="onSubmit(data.patientId ? 'U' : 'S')">

  <mat-dialog-content class="mat-typography">

    <mat-form-field appearance="outline">
      <mat-label>Patient Id</mat-label>
      <input matInput placeholder="Patient Id" id="PatientId" type="number" formControlName="PatientId"
             [errorStateMatcher]="matcher">

      <mat-error *ngIf="PatientId.hasError('required')">
        Patient id is <strong>required</strong>
      </mat-error>

    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>Appointment Type</mat-label>
      <input matInput placeholder="Appointment Type" formControlName="AppointmentType" [errorStateMatcher]="matcher">

      <mat-error *ngIf="AppointmentType.hasError('required')">
        AppointmentType is <strong>required</strong>
      </mat-error>

    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Appointment Status</mat-label>
      <input matInput placeholder="Appointment Status" formControlName="AppointmentStatus">
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>Start date</mat-label>
      <input matInput placeholder="Start date" formControlName="start" [matDatepicker]="myDatepicker1">
      <mat-datepicker-toggle matSuffix [for]="myDatepicker1"></mat-datepicker-toggle>
      <mat-datepicker #myDatepicker1></mat-datepicker>
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>End date</mat-label>
      <input matInput placeholder="end date" formControlName="end" [matDatepicker]="myDatepicker2">
      <mat-datepicker-toggle matSuffix [for]="myDatepicker2"></mat-datepicker-toggle>
      <mat-datepicker #myDatepicker2></mat-datepicker>
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Is served</mat-label>
      <input matInput placeholder="Is served" formControlName="IsServed">
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Served By</mat-label>
      <input matInput placeholder="Served By" type="number" formControlName="ServedBy">
    </mat-form-field>


  </mat-dialog-content>

  <div *ngIf="data.patientId">
    <mat-dialog-actions align="end">
      <button mat-dialog-close mat-flat-button color="warn" (click)="deleteClicked()" [disabled]="!addForm.valid">
        Delete
      </button>
      <button mat-flat-button color="primary" type="submit" [disabled]="!addForm.valid">Update</button>
      <button mat-button mat-dialog-close>Cancel</button>
    </mat-dialog-actions>
  </div>
  <div *ngIf="!data.patientId">
    <mat-dialog-actions align="end">
      <button mat-flat-button color="primary" type="submit" [disabled]="!addForm.valid">Save</button>
      <button mat-button mat-dialog-close>Cancel</button>
    </mat-dialog-actions>
  </div>

</form>



